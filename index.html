<!doctype html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <title> Gem Collector</title>

    <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">

  <!--Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Encode+Sans+Condensed|Permanent+Marker" rel="stylesheet">

  <!-- JQuery -->
  <script src="https://code.jquery.com/jquery.js"></script>

</head>

<body>
    <header id="masthead">

      GEM COLLECTOR
      
    </header>

  <div class="container">
    <div id="main-container" class="container">
        <section class="instructions">
            <h1>How to Play</h1>
            <br>
            <p> There are four gems below. Each gem containers a different numerical value.</p>
            <br>
            <p> By clicking a gem you will add a specific amount to your total score.</p>
            <br>
            <p> To win, match your score to the number in the box!</p>
            <br>
            <p> If your score exceeds the number, you lose!</p>
        </section>

        <section id="randomNumber" class="container"> 
        <h3>Number to Match: <span id="number"></span></h3>         
        </section>


        <section id="winLose" class="container">
            <h3>Wins: <span id="win"></span></h3>
            <h3>Losses: <span id="loss"></span></h3>
        </section>

        <section class="images">
            <img src="assets/images/ruby.jpeg" id="ruby" alt="Ruby" height="150px" width="150px" value="0">
            <img src="assets/images/pearl.jpeg" id="pearl" alt="Pearl" height="150px" width="150px" value="0">
            <img src="assets/images/amey.jpeg" id="ameythyst" alt="Ameythyst" height="150px" width="150px" value="0">
            <img src="assets/images/diamond.jpeg" id="diamond" alt="Diamond" height="150px" width="175px" value="0">
        </section>

        <section id="yourScore">
            <h3> Your Score: <span id="tally"></span></h3>
        </section>
    </div>
    </div>

    <footer>
        <div id="footer">
            Copyright &copy; 2017 Kelly Quinn: Muggle
        </div>
    </footer>


<!-- To be externally linked later -->
<script type="text/javascript">


// JavaScript function that wraps everything
$(document).ready(function() {

  var numberToMatch;
  var gemRuby;
  var gemPearl;
  var gemAmeythyst;
  var gemDiamond;

  var sum = 0;
  var yourTally =[];
  var winCounter = 0;
  var lossCounter = 0;


function randomizeGems () {
console.log("randomizeGems");
  gemRuby = Math.floor(1 + Math.random() * 20);
  console.log("Ruby Value:" + gemRuby);

  gemPearl = Math.floor(1 + Math.random() * 20);
  console.log("Pearl Value:" + gemPearl);

  gemAmeythyst = Math.floor(1 + Math.random() * 20);
  console.log("Amethyst Value:" + gemAmeythyst);

  gemDiamond = Math.floor(1 + Math.random() * 20);
  console.log("Diamond Value:" + gemDiamond);
}
  // TODO: add a function that resets that variable values
  function reset () {
  console.log("reset");

    // 1. When player wins or loses the game, the page re-randomizes values for number to match and gems
   //numberToMatch -- re-randomize
   //Ruby, Pearl, Amethyst, Diamond re-radomize  
    randomizeGems();  

    // 2. resets both sum and tally array to 0
    sum = 0;

    //Number randomizers for "Number to match" and gem values
    numberToMatch = Math.floor(25 + Math.random() * 100);
    $("#number").html(numberToMatch);
    console.log("Number to match:" + numberToMatch);

    //yourScore array to empty
  };

  //Calculate wins and losses
  function recalculate () {
  console.log("recalculate");

    //If the sum of players guesses equal the number to match, increase wins by 1
    if (sum === numberToMatch) {
      winCounter++;
      $("#win").html(winCounter);
      console.log("Your number was:" + sum);
      alert("You win!");
      console.log("Win count:" + winCounter);

      reset();

    //if the sum of players guesses exceed the number to match, increase losses by 1

    } else if (sum > numberToMatch) {
      lossCounter++;
      $("#loss").html(lossCounter);
      console.log("Your number was:" + sum);
      alert("You lose!");
      console.log("Loss Count:" + lossCounter);

      reset();
    }

  };
    //On click button functions for each gem

   $("#ruby").on( "click", function() {
    yourTally.push(gemRuby);
    sum = sum + gemRuby;
    console.log("Your Score:" + yourTally);
    console.log("Sum:" + sum);
    //Displays value in the html
    $("#tally").html(sum);
    recalculate();
    });

   $("#pearl").on( "click", function() {
    yourTally.push(gemPearl);
    sum = sum + gemPearl;
    console.log("Your Score:" + yourTally);
    console.log("Sum:" + sum);
    //Displays value in the html
    $("#tally").html(sum);
    recalculate();
    });

   $("#ameythyst").on( "click", function() {
    yourTally.push(gemAmeythyst);
    sum = sum + gemAmeythyst;
    console.log("Your Score:" + yourTally);
    console.log("Sum:" + sum);
    //Displays value in the html
    $("#tally").html(sum);
    recalculate();
    });

   $("#diamond").on( "click", function() {
    yourTally.push(gemDiamond);
    sum = sum + gemDiamond;
    console.log("Your Score:" + yourTally);
    console.log("Sum:" + sum);
    //Displays value in the html
    $("#tally").html(sum);  
    recalculate();
    });

   // init 
   randomizeGems();

  //Number randomizers for "Number to match" and gem values
  numberToMatch = Math.floor(25 + Math.random() * 100);
  $("#number").html(numberToMatch);
  console.log("Number to match:" + numberToMatch);

});



</script>


</body>

</html>